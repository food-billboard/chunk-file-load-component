(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"3rOf":function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),r=t.n(a),l=t("dEAq"),o=t("Zxc8"),c=t("H1Ra"),u=t("Rsk4"),i=r.a.memo(u["default"]["Upload-demo"].component),s=r.a.memo(u["default"]["Upload-demo-1"].component),m=r.a.memo(u["default"]["Upload-demo-2"].component),d=r.a.memo(u["default"]["Upload-demo-3"].component),p=r.a.memo(u["default"]["Upload-demo-4"].component),f=r.a.memo(u["default"]["Upload-demo-5"].component),h=r.a.memo(u["default"]["Upload-demo-6"].component),v=r.a.memo(u["default"]["Upload-demo-7"].component),k=r.a.memo(u["default"]["Upload-demo-8"].component),x=r.a.memo(u["default"]["Upload-demo-9"].component),w=r.a.memo(u["default"]["Upload-demo-10"].component),g=r.a.memo(u["default"]["Upload-demo-11"].component);n["default"]=e=>(r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"upload"},r.a.createElement(l["AnchorLink"],{to:"#upload","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"Upload"),r.a.createElement("p",null,"\u57fa\u7840:")),r.a.createElement(o["default"],u["default"]["Upload-demo"].previewerProps,r.a.createElement(i,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u9519\u8bef:")),r.a.createElement(o["default"],u["default"]["Upload-demo-1"].previewerProps,r.a.createElement(s,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u4e0a\u4f20\u53d7\u63a7:")),r.a.createElement(o["default"],u["default"]["Upload-demo-2"].previewerProps,r.a.createElement(m,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u9884\u5b9a\u4e49\u8bf7\u6c42:"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u53ef\u4ee5\u4f7f\u7528",r.a.createElement(l["Link"],{to:"https://github.com/food-billboard/chunk-upload-request"},"\u9ed8\u8ba4\u8bf7\u6c42"))),r.a.createElement("ol",null,r.a.createElement("li",null,"\u6b64\u9700\u8981\u5355\u72ec\u5b89\u88c5\u6a21\u5757 ",r.a.createElement("code",null,"npm install chunk-upload-request")),r.a.createElement("li",null,"\u4f7f\u7528")),r.a.createElement(c["a"],{code:"import request from 'chunk-upload-request';\nimport { Upload } from 'chunk-file-load-component';\n\nUpload.install('request', request);\n\nconst App = () => {\n  return <Upload />;\n};",lang:"tsx"}),r.a.createElement("ul",null,r.a.createElement("li",null,"\u6ce8\u518c",r.a.createElement("code",null,"request"),"\u63d2\u4ef6\u540e\uff0c\u7ec4\u4ef6\u5219\u4e0d\u9700\u8981\u4f20\u9012",r.a.createElement("code",null,"request"),"\u53c2\u6570\uff0c\u5982\u679c\u4f20\u9012\uff0c\u5219\u4f7f\u7528",r.a.createElement("code",null,"props"),"\u7684",r.a.createElement("code",null,"request")),r.a.createElement("li",null,"\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684",r.a.createElement("code",null,"request"),"\u63d2\u4ef6\uff0c\u53c2\u6570\u53ca\u5b9e\u73b0\u4e0e",r.a.createElement(l["Link"],{to:"https://github.com/food-billboard/chunk-file-load"},"chunk-file-load"),"\u7684",r.a.createElement("code",null,"request"),"\u4e00\u81f4")),r.a.createElement("p",null,"\u751f\u547d\u5468\u671f:"),r.a.createElement(c["a"],{code:"const App = () => {\n  return (\n    <Upload\n      lifecycle={{\n        beforeRead() {\n          console.log('beforeRead');\n        },\n      }}\n    />\n  );\n};",lang:"tsx"}),r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5bb9\u5668:")),r.a.createElement(o["default"],u["default"]["Upload-demo-3"].previewerProps,r.a.createElement(d,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5217\u8868")),r.a.createElement(o["default"],u["default"]["Upload-demo-4"].previewerProps,r.a.createElement(p,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u9884\u89c8")),r.a.createElement(o["default"],u["default"]["Upload-demo-5"].previewerProps,r.a.createElement(f,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u9a8c\u8bc1:")),r.a.createElement(o["default"],u["default"]["Upload-demo-6"].previewerProps,r.a.createElement(h,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u6587\u4ef6\u56fe\u6807:")),r.a.createElement(o["default"],u["default"]["Upload-demo-7"].previewerProps,r.a.createElement(v,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49 uploadListIcon")),r.a.createElement(o["default"],u["default"]["Upload-demo-8"].previewerProps,r.a.createElement(k,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u6587\u4ef6\u5927\u5c0f\u9650\u5236")),r.a.createElement(o["default"],u["default"]["Upload-demo-9"].previewerProps,r.a.createElement(x,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u81ea\u5b9a\u4e49\u6587\u6848")),r.a.createElement(o["default"],u["default"]["Upload-demo-10"].previewerProps,r.a.createElement(w,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u591a\u9009")),r.a.createElement(o["default"],u["default"]["Upload-demo-11"].previewerProps,r.a.createElement(g,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"api"},r.a.createElement(l["AnchorLink"],{to:"#api","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"API"),r.a.createElement("ul",null,r.a.createElement("li",null,"tips \u90e8\u5206\u53c2\u6570\u4e0e",r.a.createElement(l["Link"],{to:"https://github.com/ant-design/ant-design"},"antd"),"\u4e2d\u7684",r.a.createElement("code",null,"Upload"),"\u7ec4\u4ef6\u7c7b\u4f3c")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u53c2\u6570"),r.a.createElement("th",null,"\u8bf4\u660e"),r.a.createElement("th",null,"\u7c7b\u578b"),r.a.createElement("th",null,"\u9ed8\u8ba4\u503c"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"defaultValue"),r.a.createElement("td",null,"\u9ed8\u8ba4\u503c"),r.a.createElement("td",null,r.a.createElement("code",null,"string")," | ",r.a.createElement("code",null,"string[]")," | ",r.a.createElement("code",null,"PartialWrapperFile")," | ",r.a.createElement("code",null,"PartialWrapperFile[]")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"value"),r.a.createElement("td",null,"\u6587\u4ef6\u5217\u8868"),r.a.createElement("td",null,r.a.createElement("code",null,"string")," | ",r.a.createElement("code",null,"string[]")," | ",r.a.createElement("code",null,"PartialWrapperFile")," | ",r.a.createElement("code",null,"PartialWrapperFile[]")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"onChange"),r.a.createElement("td",null,"\u6587\u4ef6\u5217\u8868\u53d8\u5316\u65f6\u7684\u56de\u8c03"),r.a.createElement("td",null,r.a.createElement("code",null,"(value: WrapperFile[]) => void")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"onValidator"),r.a.createElement("td",null,"\u6587\u4ef6\u9a8c\u8bc1"),r.a.createElement("td",null,r.a.createElement("code",null,"(errorFile: File[], fulfilledFile: File[]) => void")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"onRemove"),r.a.createElement("td",null,"\u70b9\u51fb\u79fb\u9664\u6587\u4ef6\u65f6\u7684\u56de\u8c03\uff0c\u8fd4\u56de\u503c\u4e3a false \u65f6\u4e0d\u79fb\u9664\u3002\u652f\u6301\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0cPromise \u5bf9\u8c61 resolve(false) \u6216 reject \u65f6\u4e0d\u79fb\u9664"),r.a.createElement("td",null,r.a.createElement("code",null,"(task: WrapperFile) => (boolean | Promise)")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"viewStyle"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u6587\u4ef6\u5217\u8868\u6837\u5f0f"),r.a.createElement("td",null,r.a.createElement("code",null,"CSSProperties")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"viewClassName"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u6587\u4ef6\u5217\u8868\u7c7b\u540d"),r.a.createElement("td",null,r.a.createElement("code",null,"string")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"viewType"),r.a.createElement("td",null,"\u4e0a\u4f20\u5217\u8868\u7684\u5185\u5efa\u6837\u5f0f\uff0c\u652f\u6301\u4e24\u79cd\u57fa\u672c\u6837\u5f0f ",r.a.createElement("code",null,"list"),", ",r.a.createElement("code",null,"card")),r.a.createElement("td",null,r.a.createElement("code",null,"list")," | ",r.a.createElement("code",null,"card")),r.a.createElement("td",null,r.a.createElement("code",null,"list"))),r.a.createElement("tr",null,r.a.createElement("td",null,"iconRender"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u663e\u793a icon"),r.a.createElement("td",null,r.a.createElement("code",null,"(file: WrapperFile, viewType: ViewType, originNode: ReactNode) => ReactNode")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"itemRender"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5217\u8868\u9879"),r.a.createElement("td",null,r.a.createElement("code",null,"(originNode: ReactElement, file: WrapperFile, fileList: WrapperFile[], actions: ","{"," preview: Function, upload: Function, cancel: Function, stop: Function ","}",", progress: Partial<","{"," complete: number, total: number, status: any, current: number ","}",">) => ReactNode")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"showUploadList"),r.a.createElement("td",null,"\u662f\u5426\u5c55\u793a\u6587\u4ef6\u5217\u8868, \u53ef\u8bbe\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u4e8e\u5355\u72ec\u8bbe\u5b9a ",r.a.createElement("code",null,"showPreviewIcon"),", ",r.a.createElement("code",null,"showRemoveIcon"),", ",r.a.createElement("code",null,"showUploadIcon"),", ",r.a.createElement("code",null,"removeIcon"),", ",r.a.createElement("code",null,"previewIcon"),", ",r.a.createElement("code",null,"uploadIcon")),r.a.createElement("td",null,r.a.createElement("code",null,"boolean | ","{"," showPreviewIcon?: boolean, showRemoveIcon?: boolean, showUploadIcon?: boolean, removeIcon?: ReactNode | (file: UploadFile) => ReactNode | previewIcon?: ReactNode | (file: UploadFile) => ReactNode | uploadIcon?: ReactNode | (file: UploadFile) => ReactNode | uploadIcon?: ReactNode | (file: UploadFile) => ReactNode ","}")),r.a.createElement("td",null,r.a.createElement("code",null,"true"))),r.a.createElement("tr",null,r.a.createElement("td",null,"previewFile"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u9884\u89c8(\u9ed8\u8ba4\u60c5\u51b5\u4ec5\u652f\u6301\u56fe\u7247)\uff0c\u8fd4\u56de",r.a.createElement("code",null,"false"),"\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u9884\u89c8"),r.a.createElement("td",null,r.a.createElement("code",null,"(file: WrapperFile, viewType: ViewType) => Promise<ReactNode | false>")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"onPreviewFile"),r.a.createElement("td",null,"\u5f53\u6587\u4ef6\u9884\u89c8\u65f6\uff0c\u8fd4\u56de",r.a.createElement("code",null,"boolean"),"\u63a7\u5236\u662f\u5426\u9884\u89c8"),r.a.createElement("td",null,r.a.createElement("code",null,"(file: WrapperFile) => Promise<boolean>")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"containerRender"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5bb9\u5668\u6e32\u67d3"),r.a.createElement("td",null,r.a.createElement("code",null,"(action: ","{"," isDragAccept: boolean, isDragActive: boolean, isDragReject: boolean, isFocused: boolean, isFileDialogActive: boolean, locale?: object, isLimit: boolean ","}",") => ReactNode")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"immediately"),r.a.createElement("td",null,"\u662f\u5426\u7acb\u5373\u4e0a\u4f20"),r.a.createElement("td",null,r.a.createElement("code",null,"boolean")),r.a.createElement("td",null,r.a.createElement("code",null,"true"))),r.a.createElement("tr",null,r.a.createElement("td",null,"actionUrl"),r.a.createElement("td",null,"\u4e0a\u4f20\u5730\u5740"),r.a.createElement("td",null,r.a.createElement("code",null,"string")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"method"),r.a.createElement("td",null,"\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5206\u4e3a\u4e09\u9636\u6bb5(\u4e0a\u4f20\u524d\u9884\u67e5\uff0c\u4e0a\u4f20\uff0c\u4e0a\u4f20\u5b8c\u6210)"),r.a.createElement("td",null,r.a.createElement("code",null,"[string | false, string, string | false]")),r.a.createElement("td",null,r.a.createElement("code",null,'["get", "post", "post]'))),r.a.createElement("tr",null,r.a.createElement("td",null,"headers"),r.a.createElement("td",null,"\u8bf7\u6c42\u7684\u989d\u5916\u8bf7\u6c42\u5934\uff0c\u5206\u4e3a\u4e09\u9636\u6bb5(\u4e0a\u4f20\u524d\u9884\u67e5\uff0c\u4e0a\u4f20\uff0c\u4e0a\u4f20\u5b8c\u6210)"),r.a.createElement("td",null,r.a.createElement("code",null,"[object | false, object | false, object | false]")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"withCredentials"),r.a.createElement("td",null,"\u4e0a\u4f20\u8bf7\u6c42\u65f6\u662f\u5426\u643a\u5e26 ",r.a.createElement("code",null,"cookie")),r.a.createElement("td",null,r.a.createElement("code",null,"boolean")),r.a.createElement("td",null,r.a.createElement("code",null,"false"))),r.a.createElement("tr",null,r.a.createElement("td",null,"request"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u8bf7\u6c42\u903b\u8f91\uff0c\u8be6\u60c5\u89c1",r.a.createElement(l["Link"],{to:"https://github.com/food-billboard/chunk-file-load"},"chunk-file-upload")),r.a.createElement("td",null,r.a.createElement("code",null,"object")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"lifecycle"),r.a.createElement("td",null,"\u6587\u4ef6\u4e0a\u4f20\u751f\u547d\u5468\u671f\uff0c\u8be6\u60c5\u89c1",r.a.createElement(l["Link"],{to:"https://github.com/food-billboard/chunk-file-load"},"chunk-file-upload")),r.a.createElement("td",null,r.a.createElement("code",null,"object")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"accept"),r.a.createElement("td",null,"\u63a5\u53d7\u4e0a\u4f20\u7684\u6587\u4ef6\u7c7b\u578b"),r.a.createElement("td",null,r.a.createElement("code",null,"string")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"minSize"),r.a.createElement("td",null,"\u6587\u4ef6\u4e0a\u4f20\u6700\u5c0f\u5927\u5c0f"),r.a.createElement("td",null,r.a.createElement("code",null,"number")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"maxSize"),r.a.createElement("td",null,"\u6587\u4ef6\u4e0a\u4f20\u6700\u5927\u5927\u5c0f"),r.a.createElement("td",null,r.a.createElement("code",null,"number")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"maxFiles"),r.a.createElement("td",null,"\u6587\u4ef6\u5217\u8868\u6700\u5927\u6570\u91cf"),r.a.createElement("td",null,r.a.createElement("code",null,"number")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"disabled"),r.a.createElement("td",null,"\u662f\u5426\u7981\u7528"),r.a.createElement("td",null,r.a.createElement("code",null,"boolean")),r.a.createElement("td",null,r.a.createElement("code",null,"false"))),r.a.createElement("tr",null,r.a.createElement("td",null,"validator"),r.a.createElement("td",null,"\u81ea\u5b9a\u4e49\u6587\u4ef6\u9a8c\u8bc1\uff0c\u8be6\u60c5\u89c1",r.a.createElement(l["Link"],{to:"https://github.com/react-dropzone/react-dropzone"},"react-dropzone")),r.a.createElement("td",null,r.a.createElement("code",null,"Function")),r.a.createElement("td",null,"-")),r.a.createElement("tr",null,r.a.createElement("td",null,"multiple"),r.a.createElement("td",null,r.a.createElement("code",null,"\u662f\u5426\u652f\u6301\u591a\u9009\u6587\u4ef6\uff0cie10+ \u652f\u6301\u3002\u5f00\u542f\u540e\u6309\u4f4f ctrl \u53ef\u9009\u62e9\u591a\u4e2a\u6587\u4ef6")),r.a.createElement("td",null,r.a.createElement("code",null,"boolean")),r.a.createElement("td",null,r.a.createElement("code",null,"false"))),r.a.createElement("tr",null,r.a.createElement("td",null,"locale"),r.a.createElement("td",null,"\u9ed8\u8ba4\u6587\u6848\u8bbe\u7f6e"),r.a.createElement("td",null,r.a.createElement("code",null,"object")),r.a.createElement("td",null,r.a.createElement("code",null,"{",' container: "\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904" ',"}")))))))))},"9kvl":function(e,n,t){"use strict";var a=t("FfOG");t.d(n,"a",(function(){return a["b"]}));t("bCY9")},Rsk4:function(e,n,t){"use strict";t.r(n);var a=t("9og8"),r=t("WmNS"),l=t.n(r),o=t("LtsZ");n["default"]={"Upload-demo":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s,m,d,p,f;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a["default"]=e,t&&t.set(e,a),a},s=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:n})(e)},n=t("K+nK"),e.t0=n,e.next=6,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=10,t.e(10).then(t.t.bind(null,"7kJ1",7));case 10:return e.t2=n,e.next=13,Promise.all([t.e(0),t.e(1),t.e(3),t.e(9)]).then(t.t.bind(null,"qPIi",7));case 13:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=18,Promise.resolve().then(t.bind(null,"9og8"));case 18:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=n,e.next=23,t.e(6).then(t.bind(null,"tJVT"));case 23:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=m,e.next=28,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 28:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=32,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 32:return i=e.sent,e.next=35,Promise.all([t.e(0),t.e(1),t.e(5),t.e(2),t.e(8)]).then(t.bind(null,"gdfu"));case 35:return e.sent,d={},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},f=function(){var e=(0,u.useState)("list"),n=(0,c["default"])(e,2),t=n[0],l=n[1],s=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("exitDataFn",n),d[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("uploadFn",n,t),r=d[t].size,d[t].index++,l=d[t].index*d[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:console.log("completeFn",n),d[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e){var n=e.target.value;l(n)};return u["default"].createElement(u["default"].Fragment,null,u["default"].createElement(r["default"].Group,{value:t,onChange:h},u["default"].createElement(r["default"],{key:"list",value:"list"},"\u5217\u8868"),u["default"].createElement(r["default"],{key:"card",value:"card"},"\u5361\u7247")),u["default"].createElement(i.Upload,{immediately:!1,onRemove:p.bind(null,1e3),viewType:t,request:{exitDataFn:s,uploadFn:m,completeFn:f,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",f);case 40:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport { Upload } from 'chunk-file-load-component';\nimport { Radio } from 'antd';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const [viewType, setViewType] = useState('list');\n\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const onRadioChange = (e) => {\n    const value = e.target.value;\n    setViewType(value);\n  };\n\n  return (\n    <>\n      <Radio.Group value={viewType} onChange={onRadioChange}>\n        <Radio key=\"list\" value=\"list\">\n          \u5217\u8868\n        </Radio>\n        <Radio key=\"card\" value=\"card\">\n          \u5361\u7247\n        </Radio>\n      </Radio.Group>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType={viewType}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"chunk-file-load-component":{version:"1.0.0"},"react-dom":{version:">=16.9.0"}},componentName:"Upload",identifier:"Upload-demo"}},"Upload-demo-1":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]?u[t].error=!1:u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0,error:!0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:if(!u[t].error){e.next=4;break}return e.abrupt("return",{data:-1});case 4:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement(c.Upload,{onRemove:i.bind(null,1e3),viewType:"list",immediately:!1,request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    if (!mockCache[name]) {\n      mockCache[name] = {\n        max: params.chunksLength,\n        chunkSize: params.chunkSize,\n        size: params.size,\n        index: 0,\n        error: true,\n      };\n    } else {\n      mockCache[name].error = false;\n    }\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    if (mockCache[name].error) {\n      return {\n        data: -1,\n      };\n    }\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  return (\n    <>\n      <Upload\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        immediately={false}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-1"}},"Upload-demo-2":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s,m,d,p;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=i(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a["default"]=e,t&&t.set(e,a),a},i=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:n})(e)},n=t("K+nK"),e.t0=n,e.next=6,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=11,Promise.resolve().then(t.bind(null,"9og8"));case 11:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=16,t.e(6).then(t.bind(null,"tJVT"));case 16:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=s,e.next=21,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 21:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.next=25,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 25:return u=e.sent,m={},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},p=function(){var e=(0,c.useState)([]),n=(0,o["default"])(e,2),t=n[0],l=n[1],i=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return console.log("exitDataFn",n),m[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),s=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return console.log("uploadFn",n,t),r=m[t].size,m[t].index++,l=m[t].index*m[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:console.log("completeFn",n),m[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(e){l(e),console.log("upload value changed",e)};return c["default"].createElement(c["default"].Fragment,null,c["default"].createElement(u.Upload,{immediately:!1,onRemove:d.bind(null,1e3),viewType:"list",value:t,onChange:f,request:{exitDataFn:i,uploadFn:s,completeFn:p,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",p);case 30:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const [uploadValue, setUploadValue] = useState([]);\n\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const onChange = (value) => {\n    setUploadValue(value);\n    console.log('upload value changed', value);\n  };\n\n  return (\n    <>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        value={uploadValue}\n        onChange={onChange}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-2"}},"Upload-demo-3":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e){e.isDragAccept,e.isDragActive,e.isDragReject,e.isFocused,e.isFileDialogActive,e.isLimit,e.locale;return o["default"].createElement("button",null,"\u70b9\u51fb\u4e0a\u4f20")};return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement(c.Upload,{containerRender:l,immediately:!1,onRemove:i.bind(null,1e3),viewType:"list",request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const containerRender = ({\n    isDragAccept,\n    isDragActive,\n    isDragReject,\n    isFocused,\n    isFileDialogActive,\n    isLimit,\n    locale,\n  }) => {\n    return <button>\u70b9\u51fb\u4e0a\u4f20</button>;\n  };\n\n  return (\n    <>\n      <Upload\n        containerRender={containerRender}\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-3"}},"Upload-demo-4":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e,n,t,a,r){a.preview;var l=a.upload,c=a.cancel,u=(a.stop,r.complete),i=r.status,s=r.total,m=n.task.file.name;return o["default"].createElement("div",null,m,"- \u8fdb\u5ea6: ",u/s*100||0,"- \u72b6\u6001: ",i,"-",o["default"].createElement("span",{onClick:l},"\u4e0a\u4f20"),"-",o["default"].createElement("span",{onClick:c},"\u53d6\u6d88"))};return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement(c.Upload,{itemRender:l,immediately:!1,onRemove:i.bind(null,1e3),viewType:"list",request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const itemRender = (\n    originNode,\n    file,\n    fileList,\n    { preview, upload, cancel, stop },\n    { complete, status, total },\n  ) => {\n    const fileName = file.task.file.name;\n    return (\n      <div>\n        {fileName}- \u8fdb\u5ea6: {(complete / total) * 100 || 0}- \u72b6\u6001: {status}-\n        <span onClick={upload}>\u4e0a\u4f20</span>-<span onClick={cancel}>\u53d6\u6d88</span>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <Upload\n        itemRender={itemRender}\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-4"}},"Upload-demo-5":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s,m,d,p,f;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a["default"]=e,t&&t.set(e,a),a},s=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:n})(e)},n=t("K+nK"),e.t0=n,e.next=6,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=10,t.e(19).then(t.t.bind(null,"fwXI",7));case 10:return e.t2=n,e.next=13,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(18)]).then(t.t.bind(null,"CC+v",7));case 13:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=18,Promise.resolve().then(t.bind(null,"9og8"));case 18:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=n,e.next=23,t.e(6).then(t.bind(null,"tJVT"));case 23:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=m,e.next=28,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 28:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=32,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 32:return i=e.sent,e.next=35,Promise.all([t.e(0),t.e(1),t.e(5),t.e(2),t.e(8)]).then(t.bind(null,"gdfu"));case 35:return e.sent,d={},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},f=function(){var e=(0,u.useState)(!1),n=(0,c["default"])(e,2),t=n[0],l=n[1],s=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("exitDataFn",n),d[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("uploadFn",n,t),r=d[t].size,d[t].index++,l=d[t].index*d[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:console.log("completeFn",n),d[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function h(e){return console.log("wrapperFile",e),u["default"].createElement(r["default"],{footer:null,closable:!0,onCancel:l.bind(null,!1),visible:t},"\u81ea\u5b9a\u4e49\u9884\u89c8")}var v=function(){return l(!0),!0};return u["default"].createElement(u["default"].Fragment,null,u["default"].createElement(i.Upload,{previewFile:h,onPreviewFile:v,immediately:!1,onRemove:p.bind(null,1e3),viewType:"list",request:{exitDataFn:s,uploadFn:m,completeFn:f,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",f);case 40:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport { Upload } from 'chunk-file-load-component';\nimport { Modal } from 'antd';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const [previewVisible, setPreviewVisible] = useState(false);\n\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  function previewFile(file) {\n    console.log('wrapperFile', file);\n    return (\n      <Modal\n        footer={null}\n        closable\n        onCancel={setPreviewVisible.bind(null, false)}\n        visible={previewVisible}\n      >\n        \u81ea\u5b9a\u4e49\u9884\u89c8\n      </Modal>\n    );\n  }\n\n  const onPreview = () => {\n    setPreviewVisible(true);\n    return true;\n  };\n\n  return (\n    <>\n      <Upload\n        previewFile={previewFile}\n        onPreviewFile={onPreview}\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"chunk-file-load-component":{version:"1.0.0"},"react-dom":{version:">=16.9.0"}},componentName:"Upload",identifier:"Upload-demo-5"}},"Upload-demo-6":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e){var n=e.type;return n.startsWith("image/")?null:{message:"file-invalid-type",code:"file-invalid-type"}},s=function(e,n){e.length&&console.error("there file is error"),console.log("errorFiles: ",e,"fulFiles: ",n)};return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement(c.Upload,{immediately:!1,onValidator:s,onRemove:i.bind(null,1e3),validator:l,viewType:"list",request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const validator = (file: File) => {\n    const type = file.type;\n    if (type.startsWith('image/')) return null;\n    return {\n      message: 'file-invalid-type',\n      code: 'file-invalid-type',\n    };\n  };\n\n  const onValidator = (errorFiles: File[], fulFiles: File[]) => {\n    if (errorFiles.length) {\n      console.error('there file is error');\n    }\n    console.log('errorFiles: ', errorFiles, 'fulFiles: ', fulFiles);\n  };\n\n  return (\n    <>\n      <Upload\n        immediately={false}\n        onValidator={onValidator}\n        onRemove={sleep.bind(null, 1000)}\n        validator={validator}\n        viewType=\"list\"\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-6"}},"Upload-demo-7":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e,n,t){console.log(e,n);var a=e.originFile.type;return a.startsWith("image/")?o["default"].createElement("span",null,"\u81ea\u5b9a\u4e49\u56fe\u6807"):t};return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement(c.Upload,{immediately:!1,onRemove:i.bind(null,1e3),iconRender:l,viewType:"list",request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const iconRender = (file, viewType, originNode) => {\n    console.log(file, viewType);\n    const type = file.originFile.type;\n    if (type.startsWith('image/')) {\n      return <span>\u81ea\u5b9a\u4e49\u56fe\u6807</span>;\n    }\n    return originNode;\n  };\n\n  return (\n    <>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        iconRender={iconRender}\n        viewType=\"list\"\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-7"}},"Upload-demo-8":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s,m,d,p,f;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a["default"]=e,t&&t.set(e,a),a},s=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:n})(e)},n=t("K+nK"),e.t0=n,e.next=6,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=10,t.e(10).then(t.t.bind(null,"7kJ1",7));case 10:return e.t2=n,e.next=13,Promise.all([t.e(0),t.e(1),t.e(3),t.e(9)]).then(t.t.bind(null,"qPIi",7));case 13:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=18,Promise.resolve().then(t.bind(null,"9og8"));case 18:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=n,e.next=23,t.e(6).then(t.bind(null,"tJVT"));case 23:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=m,e.next=28,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 28:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=32,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 32:return i=e.sent,e.next=35,Promise.all([t.e(0),t.e(1),t.e(5),t.e(2),t.e(8)]).then(t.bind(null,"gdfu"));case 35:return e.sent,d={},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},f=function(){var e=(0,u.useState)("true"),n=(0,c["default"])(e,2),t=n[0],l=n[1],s=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("exitDataFn",n),d[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("uploadFn",n,t),r=d[t].size,d[t].index++,l=d[t].index*d[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:console.log("completeFn",n),d[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e){var n=e.target.value;l(n)},v=function(){switch(t){case"true":return{showRemoveIcon:!0};case"false":return{showRemoveIcon:!1};case"custom":return{removeIcon:function(){return u["default"].createElement("span",null,"delete")}}}};return u["default"].createElement(u["default"].Fragment,null,u["default"].createElement(r["default"].Group,{value:t,onChange:h},u["default"].createElement(r["default"],{key:"true",value:"true"},"\u663e\u793a\u9ed8\u8ba4\u5220\u9664\u56fe\u6807"),u["default"].createElement(r["default"],{key:"false",value:"false"},"\u4e0d\u663e\u793a\u5220\u9664\u56fe\u6807"),u["default"].createElement(r["default"],{key:"custom",value:"custom"},"\u81ea\u5b9a\u4e49\u5220\u9664\u56fe\u6807")),u["default"].createElement(i.Upload,{immediately:!1,onRemove:p.bind(null,1e3),viewType:"list",showUploadList:v(),request:{exitDataFn:s,uploadFn:m,completeFn:f,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",f);case 40:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport { Upload } from 'chunk-file-load-component';\nimport { Radio } from 'antd';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const [removeIcon, setRemoveIcon] = useState('true');\n\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const onRadioChange = (e) => {\n    const value = e.target.value;\n    setRemoveIcon(value);\n  };\n\n  const showUploadList = () => {\n    switch (removeIcon) {\n      case 'true':\n        return { showRemoveIcon: true };\n      case 'false':\n        return { showRemoveIcon: false };\n      case 'custom':\n        return {\n          removeIcon: () => <span>delete</span>,\n        };\n    }\n  };\n\n  return (\n    <>\n      <Radio.Group value={removeIcon} onChange={onRadioChange}>\n        <Radio key=\"true\" value=\"true\">\n          \u663e\u793a\u9ed8\u8ba4\u5220\u9664\u56fe\u6807\n        </Radio>\n        <Radio key=\"false\" value=\"false\">\n          \u4e0d\u663e\u793a\u5220\u9664\u56fe\u6807\n        </Radio>\n        <Radio key=\"custom\" value=\"custom\">\n          \u81ea\u5b9a\u4e49\u5220\u9664\u56fe\u6807\n        </Radio>\n      </Radio.Group>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        showUploadList={showUploadList()}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"chunk-file-load-component":{version:"1.0.0"},"react-dom":{version:">=16.9.0"}},componentName:"Upload",identifier:"Upload-demo-8"}},"Upload-demo-9":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(e,n){e.length&&console.error("there file is error"),console.log("errorFiles: ",e,"fulFiles: ",n)};return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement("h3",null,"\u9650\u5236\u4e0a\u4f20\u572810-100"),o["default"].createElement(c.Upload,{immediately:!1,onValidator:l,onRemove:i.bind(null,1e3),viewType:"list",minSize:10,maxSize:100,request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const onValidator = (errorFiles: File[], fulFiles: File[]) => {\n    if (errorFiles.length) {\n      console.error('there file is error');\n    }\n    console.log('errorFiles: ', errorFiles, 'fulFiles: ', fulFiles);\n  };\n\n  return (\n    <>\n      <h3>\u9650\u5236\u4e0a\u4f20\u572810-100</h3>\n      <Upload\n        immediately={false}\n        onValidator={onValidator}\n        onRemove={sleep.bind(null, 1000)}\n        viewType=\"list\"\n        minSize={10}\n        maxSize={100}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-9"}},"Upload-demo-10":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s,m,d,p,f;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=s(n);if(t&&t.has(e))return t.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=r?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a["default"]=e,t&&t.set(e,a),a},s=function(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:n})(e)},n=t("K+nK"),e.t0=n,e.next=6,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=10,t.e(10).then(t.t.bind(null,"7kJ1",7));case 10:return e.t2=n,e.next=13,Promise.all([t.e(0),t.e(1),t.e(3),t.e(9)]).then(t.t.bind(null,"qPIi",7));case 13:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=18,Promise.resolve().then(t.bind(null,"9og8"));case 18:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=n,e.next=23,t.e(6).then(t.bind(null,"tJVT"));case 23:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=m,e.next=28,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 28:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=32,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 32:return i=e.sent,e.next=35,Promise.all([t.e(0),t.e(1),t.e(5),t.e(2),t.e(8)]).then(t.bind(null,"gdfu"));case 35:return e.sent,d={},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},f=function(){var e=(0,u.useState)("list"),n=(0,c["default"])(e,2),t=n[0],l=n[1],s=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("exitDataFn",n),d[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,o["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return console.log("uploadFn",n,t),r=d[t].size,d[t].index++,l=d[t].index*d[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:console.log("completeFn",n),d[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(e){var n=e.target.value;l(n)};return u["default"].createElement(u["default"].Fragment,null,u["default"].createElement(r["default"].Group,{value:t,onChange:h},u["default"].createElement(r["default"],{key:"list",value:"list"},"\u5217\u8868"),u["default"].createElement(r["default"],{key:"card",value:"card"},"\u5361\u7247")),u["default"].createElement(i.Upload,{immediately:!1,onRemove:p.bind(null,1e3),viewType:t,locale:{container:"\u81ea\u5b9a\u4e49\u5bb9\u5668\u6587\u6848",progress:{pending:"\u961f\u5217",waiting:"\u7b49\u5f85",reading:"\u89e3\u6790",uploading:"\u4e0a\u4f20",fulfilled:"\u5b8c\u6210",rejected:"\u5931\u8d25",cancel:"\u53d6\u6d88",stopping:"\u6682\u505c"}},request:{exitDataFn:s,uploadFn:m,completeFn:f,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",f);case 40:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React, { useState } from 'react';\nimport { Upload } from 'chunk-file-load-component';\nimport { Radio } from 'antd';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const [viewType, setViewType] = useState('list');\n\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  const onRadioChange = (e) => {\n    const value = e.target.value;\n    setViewType(value);\n  };\n\n  return (\n    <>\n      <Radio.Group value={viewType} onChange={onRadioChange}>\n        <Radio key=\"list\" value=\"list\">\n          \u5217\u8868\n        </Radio>\n        <Radio key=\"card\" value=\"card\">\n          \u5361\u7247\n        </Radio>\n      </Radio.Group>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType={viewType}\n        locale={{\n          container: '\u81ea\u5b9a\u4e49\u5bb9\u5668\u6587\u6848',\n          progress: {\n            pending: '\u961f\u5217',\n            waiting: '\u7b49\u5f85',\n            reading: '\u89e3\u6790',\n            uploading: '\u4e0a\u4f20',\n            fulfilled: '\u5b8c\u6210',\n            rejected: '\u5931\u8d25',\n            cancel: '\u53d6\u6d88',\n            stopping: '\u6682\u505c',\n          },\n        }}\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"chunk-file-load-component":{version:"1.0.0"},"react-dom":{version:">=16.9.0"}},componentName:"Upload",identifier:"Upload-demo-10"}},"Upload-demo-11":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var n,a,r,o,c,u,i,s;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t("K+nK"),e.t0=n,e.next=4,Promise.resolve().then(t.t.bind(null,"WmNS",7));case 4:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=n,e.next=9,Promise.resolve().then(t.bind(null,"9og8"));case 9:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=n,e.next=14,Promise.resolve().then(t.t.bind(null,"q1tI",7));case 14:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.next=18,Promise.all([t.e(0),t.e(1),t.e(3),t.e(2),t.e(4)]).then(t.bind(null,"/7QA"));case 18:return c=e.sent,u={},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((function(n){return setTimeout(n,e)}))},s=function(){var e=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("exitDataFn",n),u[t]={max:n.chunksLength,chunkSize:n.chunkSize,size:n.size,index:0},e.abrupt("return",{data:0});case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n=function(){var e=(0,r["default"])(a["default"].mark((function e(n,t){var r,l;return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return console.log("uploadFn",n,t),r=u[t].size,u[t].index++,l=u[t].index*u[t].chunkSize,e.abrupt("return",{data:l>=r?r:l});case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),t=function(){var e=(0,r["default"])(a["default"].mark((function e(n){return a["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:console.log("completeFn",n),u[n.name]={};case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o["default"].createElement(o["default"].Fragment,null,o["default"].createElement("h4",null,"\u53ef\u540c\u65f6\u9009\u62e9\u591a\u4e2a\u6587\u4ef6"),o["default"].createElement(c.Upload,{immediately:!1,onRemove:i.bind(null,1e3),viewType:"list",multiple:!0,request:{exitDataFn:e,uploadFn:n,completeFn:t,callback:function(e,n){console.log(e,n),e||console.log("Upload Done!!")}}}))},e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),previewerProps:{sources:{_:{tsx:"import React from 'react';\nimport { Upload } from 'chunk-file-load-component';\n\n//mock local server\nlet mockCache = {};\n\nconst sleep = (times = 500) =>\n  new Promise((resolve) => setTimeout(resolve, times));\n\nexport default () => {\n  const exitDataFn = async (\n    params: {\n      filename: string;\n      md5: string;\n      suffix: string;\n      size: number;\n      chunkSize: number;\n      chunksLength: number;\n    },\n    name: Symbol,\n  ) => {\n    await sleep();\n    console.log('exitDataFn', params);\n    mockCache[name] = {\n      max: params.chunksLength,\n      chunkSize: params.chunkSize,\n      size: params.size,\n      index: 0,\n    };\n    //Mock server response\n    return {\n      data: 0,\n    };\n  };\n\n  const uploadFn = async (data: FormData, name: Symbol) => {\n    await sleep();\n    console.log('uploadFn', data, name);\n    const size = mockCache[name].size;\n    mockCache[name].index++;\n    const nextOffset = mockCache[name].index * mockCache[name].chunkSize;\n    //Mock server response\n    return {\n      data: nextOffset >= size ? size : nextOffset,\n    };\n  };\n\n  const completeFn = async (data: any) => {\n    await sleep();\n    console.log('completeFn', data);\n    mockCache[data.name] = {};\n  };\n\n  return (\n    <>\n      <h4>\u53ef\u540c\u65f6\u9009\u62e9\u591a\u4e2a\u6587\u4ef6</h4>\n      <Upload\n        immediately={false}\n        onRemove={sleep.bind(null, 1000)}\n        viewType={'list'}\n        multiple\n        request={{\n          exitDataFn,\n          uploadFn,\n          completeFn,\n          callback(err, value) {\n            console.log(err, value);\n            if (!err) {\n              console.log('Upload Done!!');\n            }\n          },\n        }}\n      />\n    </>\n  );\n};"}},dependencies:{react:{version:"16.14.0"},"chunk-file-load-component":{version:"1.0.0"}},componentName:"Upload",identifier:"Upload-demo-11"}}}},x2v5:function(e){e.exports=JSON.parse("{}")}}]);